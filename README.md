# PocketSnap

PocketSnap随手拍程序说明文档
一、程序开发想法
本程序是一款基于用户共享原则的图片分享应用，用户可以通过该程序随手记录生活中的美好点滴，并上传到云端，与更多的用户共享此刻的美好时光。

二、程序已实现功能
1.	注册
	使用Bmob云端数据库，用户的注册信息保存在云端。
	对注册用户进行信息验证。进行空值检验和查重，若用户名、邮箱、手机号码重复则提示该用户已注册，并限制用户名和密码位数为20位以内，防止内存泄露。

2.	登录
	联网匹配云端数据，身份正确才允许登录
	用户成功登录后，自动将用户信息读取到内存，方便调用。

3.	浏览共享的图片
	图片命名采用创建日期命名方式，作为图片唯一标识。
	浏览模式采用ListView，从数据库动态获取文章标题、日期、作者、内容和共享的图片等信息。
	异步多线程加载图片。本程序采用子线程来对图片进行加载，这样用户不必等到图片下载完毕后才能看到所有图文内容。文本内容会先被加载出来，而耗时的图片则会在随后的子线程中被加载，充分考虑了用户体验。
	缓存机制。获取图片时首先在本地缓存文件夹内搜索，若找到文件，则直接从缓存中加载图片，既节约了图片加载时间，又节省了用户流量；若未能找到文件，则从云数据库中获取图片的URL地址，下载图片到本地缓存文件，并加载图片。
	滑动加载。向下滑动到ListView的最后一个item时，获取新的图文并加载。
	分页查询机制。考虑到用户体验，本程序采用分页查询机制，与滑动加载相结合，当用户滑到最后一个item时，将从数据库中获取下一页的数据，本程序采用每次从数据库中获取3条图文的方式获取数据。

4.	用户自由发布希望共享的图文
	从相册获取图片。支持从相册中选中图片并将其回显。
	调用相机拍摄图片。支持调用默认相机拍摄图片，拍摄后图片名称以拍摄时间为主要命名方式，保存在手机本地目录
Environment.getExternalStorageDirectory()的/Snap文件夹下。
	上传图片到云端数据库。

5.	用户信息更新到云端
	用户可以在个人信息界面编辑个人信息。
	个人信息有长度限制，防止内存泄露。
	点击更新后，个人信息更新到云端，并更新本地缓存。

6.	WiFi模式浏览
	开启WiFi浏览模式后，如果本地缓存目录内没有某个图片文件时，仅当用户处于WiFi网络环境下才会下载图片并加载，否则不会加载。该功能以用户体验为中心，节约了用户流量。

7.	缓存清理
	在设置页面中，动态计算并显示用户缓存文件的大小。
	用户点击该按钮后，自动清空缓存文件。

8.	发送邮件给我们提建议
	在设置页面中，用户可以通过点击用户反馈按钮调用邮件服务，向我们发送建议。
9.	注销
	用户注销后，清空用户本地的缓存用户信息。

三、程序已实现的增强用户体验的UI设计
1.	DrawerLayout侧滑菜单（抽屉菜单）的实现。主页导航为侧滑菜单，菜单内的不同部分采用fragment进行显示，用户手指从左侧滑动可以展开导航菜单，向右滑动关闭导航菜单。

2.	ListView滑动到底端后的加载效果。加载过程中的提示信息以及数据全部已被加载后的底端提示。

3.	Button按钮的圆角化。通过xml的shape重新定义按钮的样式，美化界面。

4.	Actionbar的重新布局。采用资源文件重新定义默认的actionbar，实现布局界面的美化。

5.	设置和个人信息界面的布局，美观大方，效果良好。

四、程序的特色
	使用Bmob云端数据库，保证数据存储的稳定。
	图片的加载缓存机制，保证用户的良好体验。
	共享机制，本应用可在小范围内（如校园内）共享图片，效果良好。


五、程序需要优化的地方
1.	实现下拉刷新，替代原有的按钮刷新。
2.	更改头像图片的显示样式，用圆形替代原有的方形。
3.	更新一下actionbar，使其更符合用户习惯。
 
六、程序还未实现的功能
由于时间紧张和初次开发安卓，各项功能不尽完备，仍有以下内容需要更新。
1.	评论功能。
2.	点赞功能
3.	收藏功能。
4.	用户关注与粉丝功能。
5.	夜间模式。
6.	评分与推荐。
7.	第三方登录与分享功能。

七、程序BUG
1.	各类操作的提示不足，可能存在误操作
2.	图片上传未经压缩

八、下一步更新大致方向
1. 第一阶段
	修复两个BUG
	增加第三方登录和分享功能
	用户头像设置成圆形显示
	夜间模式
	图片点击加载原图
	优化UI

2.	第二阶段
	增加评论功能
	增加收藏功能
	增加点赞功能
	优化UI

3.	第三阶段
	增加关注和粉丝功能
	优化UI
